<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
 PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.al.iblog.dao.ArticleDao">
 	<insert id="insertArticle" useGeneratedKeys="true" keyColumn="article_id"
	keyProperty="articleId">
	INSERT INTO
	tb_article(owner_id, article_content, article_desc, article_name, priority, create_time,
	last_edit_time, enable_status, article_category_id)
	VALUES
	(#{owner.userId},#{articleContent},#{articleDesc},#{articleName},#{priority},#{createTime},
	#{lastEditTime},#{enableStatus},#{articleCategory.articleCategoryId})
</insert>
<update id="updateArticle" parameterType="com.al.iblog.entity.Article">
	update tb_article
	<set>
		<if test="articleName != null">article_name=#{articleName},</if>
		<if test="articleDesc != null">article_desc=#{articleDesc},</if>
		<if test="articleContent != null">article_content=#{articleContent},</if>
		<if test="priority != null">priority=#{priority},</if>
		<if test="lastEditTime != null">last_edit_time=#{lastEditTime},</if>
		<if test="enableStatus != null">enable_status=#{enableStatus},</if>
		<if test="articleCategory != null">article_category_id=#{articleCategory.articleCategoryId}</if>
	</set>
	where article_id = #{articleId}
</update>
 </mapper>